<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISTEMA DE DIAGNÓSTICO | TRIAGE</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --terminal-bg: #0a0a0a;
            --terminal-green: #0f0;
            --terminal-dim: #004400;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--terminal-bg);
            color: var(--terminal-green);
            font-family: 'Fira Code', monospace;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            text-transform: uppercase;
        }

        /* --- EFECTO 1: CRT POWER ON (ENTRADA) --- */
        .crt-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: white; z-index: 9999;
            animation: turnOn 1.5s forwards ease-in-out;
            pointer-events: none;
        }

        @keyframes turnOn {
            0% { transform: scaleY(0.005) scaleX(0); background: white; opacity: 1; }
            50% { transform: scaleY(0.005) scaleX(1); background: white; opacity: 1; }
            100% { transform: scaleY(1) scaleX(1); background: transparent; opacity: 0; }
        }

        /* --- INTERFAZ --- */
        .terminal-container {
            width: 80%;
            max-width: 800px;
            border: 2px solid var(--terminal-dim);
            padding: 40px;
            position: relative;
            box-shadow: 0 0 20px var(--terminal-dim);
            background: rgba(0, 20, 0, 0.9);
        }

        h1 { font-size: 2rem; margin-bottom: 30px; border-bottom: 1px dashed var(--terminal-green); padding-bottom: 10px; }
        
        .question-box { display: none; }
        .question-box.active { display: block; animation: fadeIn 0.5s; }

        .btn-option {
            display: block; width: 100%; padding: 15px; margin: 10px 0;
            background: transparent; border: 1px solid var(--terminal-green);
            color: var(--terminal-green); font-family: 'Fira Code', monospace;
            font-size: 1.2rem; cursor: pointer; text-align: left;
            transition: 0.2s;
        }

        .btn-option:hover {
            background: var(--terminal-green); color: black;
            padding-left: 25px; /* Desplazamiento */
        }

        .btn-option::before { content: '> '; opacity: 0; }
        .btn-option:hover::before { opacity: 1; }

        /* LOADING BAR */
        .loader { width: 0%; height: 5px; background: var(--terminal-green); transition: width 0.1s; margin-top: 20px; }

        /* --- EFECTO 2: HYPERSPACE (SALIDA) --- */
        .hyperspace-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; z-index: 9998; opacity: 0; pointer-events: none;
            display: flex; justify-content: center; align-items: center;
        }
        
        .warp-speed {
            font-size: 5rem; color: white; opacity: 0;
            transform: scale(0.1); text-shadow: 0 0 50px white;
        }

        @keyframes warpOut {
            0% { opacity: 0; transform: scale(0.1); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(20); letter-spacing: 500px; }
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .back-btn { position: absolute; top: 20px; left: 20px; text-decoration: none; color: #555; font-size: 0.8rem; border: 1px solid #333; padding: 5px 10px; }
        .back-btn:hover { color: var(--terminal-green); border-color: var(--terminal-green); }

    </style>
</head>
<body>

    <!-- EFECTO DE ENTRADA -->
    <div class="crt-overlay"></div>

    <a href="index.html" class="back-btn">CANCELAR OPERACIÓN</a>

    <div class="terminal-container">
        <h1>SISTEMA DE DIAGNÓSTICO v.4.0</h1>
        
        <!-- PREGUNTA 1 -->
        <div id="step1" class="question-box active">
            <p style="margin-bottom: 20px;">[SISTEMA]: ESTADO ACTUAL DEL SUJETO:</p>
            <button class="btn-option" onclick="nextStep(2)">A. MI NEGOCIO SOBREVIVE</button>
            <button class="btn-option" onclick="nextStep(2)">B. QUIERO DOMINACIÓN TOTAL</button>
        </div>

        <!-- PREGUNTA 2 (DECISIVA) -->
        <div id="step2" class="question-box">
            <p style="margin-bottom: 20px;">[SISTEMA]: IDENTIFIQUE SU PUNTO DE FALLO CRÍTICO:</p>
            <button class="btn-option" onclick="finalize('web')">1. SOY INVISIBLE (NADIE ME ENCUENTRA)</button>
            <button class="btn-option" onclick="finalize('ia')">2. SOY LENTO (PIERDO TIEMPO EN RUTINA)</button>
            <button class="btn-option" onclick="finalize('sec')">3. SOY VULNERABLE (MIEDO A HACKERS)</button>
        </div>

        <!-- PANTALLA DE CARGA -->
        <div id="loading" class="question-box">
            <p>CALCULANDO RUTA ÓPTIMA...</p>
            <div class="loader" id="bar"></div>
        </div>

    </div>

    <!-- EFECTO SALIDA -->
    <div class="hyperspace-overlay" id="warp">
        <div class="warp-speed">EJECUTANDO...</div>
    </div>

    <script>
        function nextStep(step) {
            document.querySelectorAll('.question-box').forEach(el => el.classList.remove('active'));
            document.getElementById('step' + step).classList.add('active');
        }

        function finalize(type) {
            // 1. Mostrar carga
            document.querySelectorAll('.question-box').forEach(el => el.classList.remove('active'));
            document.getElementById('loading').classList.add('active');

            // 2. Animar barra
            let bar = document.getElementById('bar');
            let width = 0;
            let interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    triggerWarp(type); // 3. Disparar efecto salida
                } else {
                    width++;
                    bar.style.width = width + '%';
                }
            }, 20); // Velocidad de carga
        }

        function triggerWarp(type) {
            // Determinar destino
            let destination = "";
            if(type === 'web') destination = "desarrollo-web.html";
            if(type === 'ia') destination = "soluciones-ia.html";
            if(type === 'sec') destination = "seguridad-web.html";

            // Activar animación warp
            let warp = document.getElementById('warp');
            let text = document.querySelector('.warp-speed');
            
            warp.style.opacity = 1;
            text.style.animation = "warpOut 1.5s forwards";

            // Redirigir al terminar la animación
            setTimeout(() => {
                window.location.href = destination;
            }, 1400);
        }
    </script>
</body>
</html>